(this["webpackJsonptypescript-app"]=this["webpackJsonptypescript-app"]||[]).push([[0],{73:function(n,e,t){"use strict";t.r(e);var r=t(2),a=t(0),i=t.n(a),c=t(19),o=t.n(c),u=t(5),s=t(6);function p(){var n=Object(u.a)(["\n    font-family: 'Monda', sans-serif;\n    font-size: 30px;\n    line-height: 30px;\n    color: white;\n    font-weight: 300;\n    \n    @media (max-width: 848px){\n        margin-right: 16px;\n    }\n    \n    @media (max-width: 527px){\n        font-size: 15px;\n        line-height: 15px;\n    }\n"]);return p=function(){return n},n}function l(){var n=Object(u.a)(["\n    min-width: 815px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    \n    @media (max-width: 848px){\n        min-width: 200x;\n        justify-content: space-around;\n    }\n    \n    @media (max-width: 527px){\n        min-width: 0;\n        justify-content: flex-start;\n    }\n"]);return l=function(){return n},n}function d(){var n=Object(u.a)(["\n    background: #4A76A8;\n    width: 100%;\n    height: 50px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-shadow: 0 10px 30px 0 rgba(1, 1, 1, 0.7);\n    position: fixed;\n    z-index: 100;\n"]);return d=function(){return n},n}var f=s.b.div(d()),b=s.b.div(l()),h=s.b.span(p()),x=t(17),j=t(12),v=t.n(j),m=t(18),g="movies/GET_POPULAR",O="movies/SEARCH",y="movies/CLEAR",w="movies/QUERY",M=t(23),C=t.n(M),k="/movie/popular",S="/search/movie",L=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2?arguments[2]:void 0,r="https://api.themoviedb.org/3",a="8282c68f5ed8f63c5bfae413614846d5";switch(n){case k:return"".concat(r).concat(n,"?api_key=").concat(a,"&language=en-US&page=").concat(e);case S:return"".concat(r).concat(n,"?api_key=").concat(a,"&language=en-US&query=").concat(t,"&page=").concat(e,"&include_adult=false");default:return"".concat(r).concat(k,"?api_key=").concat(a,"&language=en-US&page=").concat(e)}},P=function(n){return C.a.get(L(k,n)).then((function(n){return n.data}))},G=function(n,e){return C.a.get(L(S,n,e)).then((function(n){return n.data}))},q=function(n){return{type:g,payload:n}},A=function(n){return{type:O,payload:n}},E=function(n){return{type:w,payload:n}},z=function(n,e){return function(){var t=Object(m.a)(v.a.mark((function t(r){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(n,e);case 2:a=t.sent,1===n&&r({type:y}),r(A(a)),r(E(e));case 6:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},F=t(7),I=t(45),N=t(27);function R(){var n=Object(u.a)(["\n    min-width: 270px;\n    background: #224B7A;\n    border-radius: 20px;\n    display: flex;\n    padding: 5px;\n    height: 25px;\n    align-items: center;\n    justify-content: space-between;\n    \n    & img{\n        position: fixed;\n    }\n    \n    & button{\n        background: #224B7A;\n        outline: 0;\n        border: 0px;\n        cursor: pointer;\n    }\n    \n    @media (max-width: 527px){\n        min-width: 200px;\n    }\n"]);return R=function(){return n},n}function B(){var n=Object(u.a)(["\n    background: #224B7A;\n    outline: 0;\n    border: 0px;\n    font-size: 17px;\n    color: #8FADC8;\n    max-width: 150px;\n    margin-left: 37px;\n    \n    &::placeholder{\n        color: #8FADC8;\n    }\n    \n    @media (max-width: 527px){\n        max-width: 100px;\n        font-size: 15px;\n    }\n"]);return B=function(){return n},n}var _=s.b.input(B()),T=s.b.form(R());function U(){return(U=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function D(n,e){if(null==n)return{};var t,r,a=function(n,e){if(null==n)return{};var t,r,a={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var J=a.createElement("path",{d:"M10.9586 9.72112L14.6187 13.3813C14.9604 13.723 14.9604 14.277 14.6187 14.6187C14.277 14.9604 13.723 14.9604 13.3813 14.6187L9.72112 10.9586C8.81578 11.6138 7.70299 12 6.5 12C3.46243 12 1 9.53757 1 6.5C1 3.46243 3.46243 1 6.5 1C9.53757 1 12 3.46243 12 6.5C12 7.70299 11.6138 8.81578 10.9586 9.72112ZM6.5 10.25C8.57107 10.25 10.25 8.57107 10.25 6.5C10.25 4.42893 8.57107 2.75 6.5 2.75C4.42893 2.75 2.75 4.42893 2.75 6.5C2.75 8.57107 4.42893 10.25 6.5 10.25Z",fill:"#8FADC8"});function W(n,e){var t=n.title,r=n.titleId,i=D(n,["title","titleId"]);return a.createElement("svg",U({width:16,height:16,viewBox:"0 0 16 16",fill:"none",ref:e,"aria-labelledby":r},i),t?a.createElement("title",{id:r},t):null,J)}var Z=a.forwardRef(W),H=(t.p,t.p+"static/media/loader.32385256.svg"),Q=function(){var n=Object(m.a)(v.a.mark((function n(e){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(n){return setTimeout(n,e)}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();var Y=function(n){var e=Object(a.useState)(!1),t=Object(I.a)(e,2),i=t[0],c=t[1],o=function(){var e=Object(m.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.onGetSearchMovies(1,t.filmName),c(!0),e.next=4,Q(1e3);case 4:c(!1);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"InputForm",children:Object(r.jsx)(N.b,{onSubmit:o,render:function(n){var e=n.handleSubmit,t=(n.form,n.submitting);n.pristine,n.values;return Object(r.jsxs)(T,{onSubmit:e,children:[Object(r.jsx)(N.a,{name:"filmName",children:function(n){var e=n.input;return Object(r.jsx)(_,Object(F.a)(Object(F.a)({},e),{},{type:"text",placeholder:"Search movie"}))}}),i&&Object(r.jsx)("img",{src:H,alt:"Loading",width:"40"}),Object(r.jsx)("button",{type:"submit",disabled:t,children:Object(r.jsx)(Z,{})})]})}})})};var K=Object(x.b)(null,(function(n){return{onGetSearchMovies:function(e,t){return n(z(e,t))}}}))((function(n){return Object(r.jsx)(Y,{onGetSearchMovies:n.onGetSearchMovies})}));var V=function(){return Object(r.jsx)(f,{children:Object(r.jsxs)(b,{children:[Object(r.jsx)(h,{children:"movie searcher"}),Object(r.jsx)(K,{})]})})},X=t(43),$=t(3);function nn(){var n=Object(u.a)(["\n    width: 100%;\n    text-align: center;\n    display: grid;\n    grid-template-rows: 150px 500px;\n    \n    @media (max-width: 527px){\n        grid-template-rows: 66px 500px;\n    }\n"]);return nn=function(){return n},n}var en=s.b.div(nn());function tn(){var n=Object(u.a)(["\n    margin: 0 auto;\n    max-width: 816px;\n    display: flex;\n    padding: 16px;\n    align-content: flex-start;\n    flex-wrap: wrap;\n    gap: 16px;\n    \n    @media (max-width: 527px){\n        padding: 0;\n        width: 100vw;\n        justify-content: center;\n    }\n"]);return tn=function(){return n},n}var rn=s.b.div(tn());function an(){var n=Object(u.a)(["\n    font-family: 'Monda', sans-serif;\n    position: relative;\n    top: -604px;\n    z-index: 10;\n    height: 200px;\n    background: linear-gradient(rgba(74, 118, 168, 0.9), rgba(74, 118, 168, 0));\n    font-size: 25px;\n    line-height: 50px;\n    color: white;\n    \n    @media (max-width: 400px){\n        top: -554px;\n    }\n"]);return an=function(){return n},n}function cn(){var n=Object(u.a)(["\n    width: 400px;\n    height: 600px;\n    transition: 0.5s;\n    overflow: hidden;\n    border-radius: 20px;\n    cursor: pointer;\n    box-shadow: 0 20px 30px 0 rgba(1, 1, 1, 0.3);\n    \n    &:hover{\n        transform: scale(0.95);\n        box-shadow: 0 20px 30px 0 rgba(1, 1, 1, 0.7);\n    }\n    \n    @media (max-width: 400px){\n        width: 350px;\n        height: 550px;\n    }\n"]);return cn=function(){return n},n}var on=s.b.div(cn()),un=s.b.div(an()),sn=t(42),pn=t.p+"static/media/error-poster.3ec67d88.jpg";var ln=function(n){return Object(r.jsx)("div",{className:"MovieCard",children:Object(r.jsxs)(on,{children:[Object(r.jsx)(sn.a,{width:window.innerWidth<=400?"350":"400",height:window.innerWidth<=400?"550":"600",placeholder:H,src:"".concat("https://image.tmdb.org/t/p/original/","/").concat(n.poster_path),error:pn,debounce:1e3,alt:"Movie",lazy:!0}),Object(r.jsx)(un,{children:n.title})]})})};var dn=function(n){return Object(r.jsx)("div",{className:"MoviesList",children:Object(r.jsx)(rn,{children:n.moviesList.map((function(n,e){return Object(r.jsx)(ln,Object(F.a)({},n),e)}))})})},fn=function(n){return n.movies.query},bn=function(n){return n.movies.type},hn=function(n){return n.movies.page},xn=function(n){return n.movies.movies},jn={root:null,rootMargin:"0px",threshold:1};var vn=Object(x.b)((function(n){return{query:fn(n),type:bn(n),page:hn(n),moviesList:xn(n)}}),(function(n){return{onGetPopularMovies:function(e){return n(function(n){return function(){var e=Object(m.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(n);case 2:r=e.sent,t(q(r));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}(e))},onGetSearchMovies:function(e,t){return n(z(e,t))}}}))((function(n){var e=Object(a.useRef)(null),t=Object(a.useCallback)((function(e){if(e[0].isIntersecting)switch(n.type){case"popular":n.page?n.onGetPopularMovies(n.page+1):n.onGetPopularMovies(1);break;case"search":n.page?n.onGetSearchMovies(n.page+1,n.query?n.query:""):n.onGetSearchMovies(1,n.query?n.query:"");break;case null:n.query||(n.page?n.onGetPopularMovies(n.page+1):n.onGetPopularMovies(1))}}),[n]);return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[n.query]),Object(a.useEffect)((function(){var n=e.current,r=new IntersectionObserver(t,jn);return e&&e.current&&r.observe(n),function(){r.unobserve(n)}}),[e,t]),Object(r.jsxs)("div",{children:[Object(r.jsx)(dn,{page:n.page,moviesList:n.moviesList}),Object(r.jsx)("img",{ref:e,className:"Loader",src:H,alt:"Loading..."})]})}));var mn=function(){return Object(r.jsx)("div",{className:"MoviesPage",children:Object(r.jsxs)(en,{children:[Object(r.jsx)("div",{children:" "}),Object(r.jsx)(vn,{})]})})};var gn=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)(X.a,{children:[Object(r.jsx)(V,{}),Object(r.jsx)($.b,{path:"/",children:Object(r.jsx)($.a,{to:"/react-movie-searcher"})}),Object(r.jsx)($.b,{exact:!0,path:"/react-movie-searcher",render:function(){return Object(r.jsx)(mn,{})}})]})})},On=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,74)).then((function(e){var t=e.getCLS,r=e.getFID,a=e.getFCP,i=e.getLCP,c=e.getTTFB;t(n),r(n),a(n),i(n),c(n)}))};function yn(){var n=Object(u.a)(["\n    body{\n        margin: 0;\n        background: #dfe6ed;\n        font-family: 'Roboto', sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n"]);return yn=function(){return n},n}var wn=Object(s.a)(yn()),Mn=t(15),Cn=t(44),kn={query:null,type:null,page:null,movies:[]},Sn=Object(Mn.c)({movies:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g:return Object(F.a)(Object(F.a)({},n),{},{type:"popular",page:e.payload.page,movies:n.movies.concat(e.payload.results)});case O:return Object(F.a)(Object(F.a)({},n),{},{type:"search",page:e.payload.page,movies:n.movies.concat(e.payload.results)});case y:return Object(F.a)(Object(F.a)({},n),{},{page:null,type:null,movies:[],query:null});case w:return Object(F.a)(Object(F.a)({},n),{},{query:e.payload});default:return n}}}),Ln=Object(Mn.d)(Sn,Object(Mn.a)(Cn.a));o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsxs)(x.a,{store:Ln,children:[Object(r.jsx)(wn,{}),Object(r.jsx)(gn,{})]})}),document.getElementById("root")),On()}},[[73,1,2]]]);
//# sourceMappingURL=main.3ea7bc47.chunk.js.map