{"version":3,"sources":["components/Header/Header.styles.ts","store/movies/types.ts","api/apiRequests.ts","store/movies/actions.ts","components/InputForm/InputForm.styles.ts","img/search.svg","img/loader.svg","components/InputForm/InputForm.tsx","containers/InputFormContainer.tsx","components/Header/Header.tsx","components/MoviesPage/MoviesPage.styles.ts","components/MoviesList/MoviesList.styles.ts","components/MovieCard/MovieCard.styles.ts","img/error-poster.jpg","components/MovieCard/MovieCard.tsx","components/MoviesList/MoviesList.tsx","store/movies/selectors.ts","containers/MoviesListContainer.tsx","components/MoviesPage/MoviesPage.tsx","App.tsx","reportWebVitals.ts","index.styles.ts","store/movies/reducer.ts","store/rootReducer.ts","store/store.ts","index.tsx"],"names":["HeaderStyled","styled","div","Wrapper","Title","span","GET_POPULAR","SEARCH","CLEAR","QUERY","POPULAR","createURL","endpoint","page","query","URL","KEY","getPopularMoviesReq","axios","get","then","res","data","getSearchMoviesReq","getPopularMoviesCreator","payload","type","getSearchMoviesCreator","setSearchQueryCreator","thunkSearchMovies","dispatch","a","Input","input","StyledForm","form","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","fill","SvgSearch","_ref","svgRef","title","titleId","props","width","height","viewBox","ref","id","ForwardRef","loadingWait","ms","Promise","resolve","setTimeout","InputForm","useState","loading","setLoading","onSubmit","values","onGetSearchMovies","filmName","className","render","handleSubmit","submitting","pristine","name","placeholder","src","loadingImage","alt","disabled","connect","Header","MovieCard","window","innerWidth","poster_path","error","errorImage","debounce","lazy","MoviesList","moviesList","map","item","getQuery","state","movies","getType","getPage","getMoviesList","IntersectionObserverOptions","root","rootMargin","threshold","onGetPopularMovies","thunkPopularMovies","loader","useRef","loadMore","useCallback","entries","isIntersecting","useEffect","scrollTo","currentLoader","current","observer","IntersectionObserver","observe","unobserve","MoviesPage","App","path","to","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","GlobalStyle","createGlobalStyle","initialState","rootReducer","combineReducers","action","concat","results","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3ea7bc47.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const HeaderStyled = styled.div`\n    background: #4A76A8;\n    width: 100%;\n    height: 50px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-shadow: 0 10px 30px 0 rgba(1, 1, 1, 0.7);\n    position: fixed;\n    z-index: 100;\n`;\n\nexport const Wrapper = styled.div`\n    min-width: 815px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    \n    @media (max-width: 848px){\n        min-width: 200x;\n        justify-content: space-around;\n    }\n    \n    @media (max-width: 527px){\n        min-width: 0;\n        justify-content: flex-start;\n    }\n`;\n\nexport const Title = styled.span`\n    font-family: 'Monda', sans-serif;\n    font-size: 30px;\n    line-height: 30px;\n    color: white;\n    font-weight: 300;\n    \n    @media (max-width: 848px){\n        margin-right: 16px;\n    }\n    \n    @media (max-width: 527px){\n        font-size: 15px;\n        line-height: 15px;\n    }\n`;","export const GET_POPULAR = 'movies/GET_POPULAR';\nexport const SEARCH = 'movies/SEARCH';\nexport const CLEAR = 'movies/CLEAR';\nexport const QUERY = 'movies/QUERY';\n\nexport interface Movie{\n    popularity: number;\n    vote_count: number;\n    video: boolean;\n    poster_path: string;\n    id: number;\n    adult: boolean;\n    backdrop_path: string;\n    original_language: string;\n    original_title: string;\n    genre_ids: Array<number>;\n    title: string;\n    vote_average: number;\n    overview: string;\n    releaseDate: string;\n}\n\nexport interface MoviesState{\n    query: null | string;\n    type: 'popular' | 'search' | null;\n    page: number | null;\n    movies: Array<Movie>;\n}\n\nexport interface MoviesPayload{\n    page: number;\n    total_results: string;\n    total_pages: string;\n    results: Array<Movie>;\n}\n\ninterface GetPopularMoviesAction{\n    type: typeof GET_POPULAR;\n    payload: MoviesPayload;\n}\n\ninterface GetSearchMoviesAction{\n    type: typeof SEARCH;\n    payload: MoviesPayload;\n}\n\ninterface ClearMoviesAction{\n    type: typeof CLEAR;\n}\n\ninterface setSearchQuery{\n    type: typeof QUERY;\n    payload: string;\n}\n\n\nexport type MoviesActionTypes =\n    GetPopularMoviesAction |\n    GetSearchMoviesAction |\n    ClearMoviesAction |\n    setSearchQuery;","import axios from 'axios';\n\nconst POPULAR = '/movie/popular';\nconst SEARCH = '/search/movie';\n\nconst createURL = (endpoint: string, page = 1, query?: string): string => {\n    const URL = 'https://api.themoviedb.org/3';\n    const KEY = '8282c68f5ed8f63c5bfae413614846d5';\n    switch (endpoint){\n        case POPULAR:\n            return `${URL}${endpoint}?api_key=${KEY}&language=en-US&page=${page}`;\n        case SEARCH:\n            return `${URL}${endpoint}?api_key=${KEY}&language=en-US&query=${query}&page=${page}&include_adult=false`\n        default:\n            return `${URL}${POPULAR}?api_key=${KEY}&language=en-US&page=${page}`;\n    }\n}\n\nexport const getPopularMoviesReq = (page?: number) => axios\n    .get(createURL(POPULAR, page))\n        .then(res => res.data);\n\nexport const getSearchMoviesReq = (page?: number, query?: string) => axios\n    .get(createURL(SEARCH, page, query))\n        .then(res => res.data);","import {CLEAR, GET_POPULAR, MoviesActionTypes, MoviesPayload, QUERY, SEARCH} from \"./types\";\nimport {ThunkAction} from \"redux-thunk\";\nimport {AnyAction} from 'redux'\nimport {RootState} from \"../rootReducer\";\nimport {getPopularMoviesReq, getSearchMoviesReq} from \"../../api/apiRequests\";\n\nexport const getPopularMoviesCreator = (\n    payload: MoviesPayload\n): MoviesActionTypes => {\n    return {\n        type: GET_POPULAR,\n        payload\n    }\n}\n\nexport const getSearchMoviesCreator = (\n    payload: MoviesPayload\n): MoviesActionTypes => {\n    return {\n        type: SEARCH,\n        payload\n    }\n}\n\nexport const clearMoviesCreator = (): MoviesActionTypes => {\n    return {\n        type: CLEAR\n    }\n}\n\nexport const setSearchQueryCreator = (\n    payload: string\n): MoviesActionTypes => {\n    return {\n        type: QUERY,\n        payload\n    }\n}\n\nexport const thunkPopularMovies = (page: number): ThunkAction<Promise<void>, RootState, {}, AnyAction> => async (\n    dispatch\n) => {\n    let payload: MoviesPayload = await getPopularMoviesReq(page);\n    dispatch(getPopularMoviesCreator(payload));\n}\n\nexport const thunkSearchMovies = (page: number, query: string): ThunkAction<Promise<void>, RootState, {}, AnyAction> => async (\n    dispatch\n) => {\n    let payload: MoviesPayload = await getSearchMoviesReq(page, query);\n    if (page === 1){\n        dispatch(clearMoviesCreator());\n    }\n    dispatch(getSearchMoviesCreator(payload));\n    dispatch(setSearchQueryCreator(query));\n}","import styled from \"styled-components\";\n\nexport const Input = styled.input`\n    background: #224B7A;\n    outline: 0;\n    border: 0px;\n    font-size: 17px;\n    color: #8FADC8;\n    max-width: 150px;\n    margin-left: 37px;\n    \n    &::placeholder{\n        color: #8FADC8;\n    }\n    \n    @media (max-width: 527px){\n        max-width: 100px;\n        font-size: 15px;\n    }\n`;\n\nexport const StyledForm = styled.form`\n    min-width: 270px;\n    background: #224B7A;\n    border-radius: 20px;\n    display: flex;\n    padding: 5px;\n    height: 25px;\n    align-items: center;\n    justify-content: space-between;\n    \n    & img{\n        position: fixed;\n    }\n    \n    & button{\n        background: #224B7A;\n        outline: 0;\n        border: 0px;\n        cursor: pointer;\n    }\n    \n    @media (max-width: 527px){\n        min-width: 200px;\n    }\n`;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.9586 9.72112L14.6187 13.3813C14.9604 13.723 14.9604 14.277 14.6187 14.6187C14.277 14.9604 13.723 14.9604 13.3813 14.6187L9.72112 10.9586C8.81578 11.6138 7.70299 12 6.5 12C3.46243 12 1 9.53757 1 6.5C1 3.46243 3.46243 1 6.5 1C9.53757 1 12 3.46243 12 6.5C12 7.70299 11.6138 8.81578 10.9586 9.72112ZM6.5 10.25C8.57107 10.25 10.25 8.57107 10.25 6.5C10.25 4.42893 8.57107 2.75 6.5 2.75C4.42893 2.75 2.75 4.42893 2.75 6.5C2.75 8.57107 4.42893 10.25 6.5 10.25Z\",\n  fill: \"#8FADC8\"\n});\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.978e5111.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/loader.32385256.svg\";","import React, {useState} from \"react\";\nimport {Form, Field} from \"react-final-form\";\nimport {Input, StyledForm} from \"./InputForm.styles\";\nimport {ReactComponent as SearchIcon} from \"../../img/search.svg\";\nimport loadingImage from '../../img/loader.svg';\n\ninterface Props{\n    onGetSearchMovies: (page: number, query: string) => void;\n}\n\ninterface Values {\n    filmName: string\n}\n\nconst loadingWait = async (ms: number) => (\n    await new Promise<Promise<any>>(resolve => setTimeout(resolve, ms))\n)\n\nfunction InputForm(props: Props) {\n    const [loading, setLoading] = useState(false);\n\n    const onSubmit = async (values: Values) => {\n        props.onGetSearchMovies(1, values.filmName);\n        setLoading(true);\n        await loadingWait(1000);\n        setLoading(false);\n    }\n\n    return (\n        <div className=\"InputForm\">\n            <Form onSubmit={onSubmit}\n                  render={({handleSubmit, form, submitting, pristine, values}) => (\n                      <StyledForm onSubmit={handleSubmit}>\n                          <Field<string> name=\"filmName\">\n                              {({input}) => (\n                                  <Input {...input} type=\"text\" placeholder=\"Search movie\"/>\n                              )}\n                          </Field>\n                          {loading && <img src={loadingImage} alt=\"Loading\" width=\"40\"/>}\n                          <button type=\"submit\" disabled={submitting}>\n                              <SearchIcon />\n                          </button>\n                      </StyledForm>\n                  )}\n            />\n        </div>\n    )\n}\n\nexport default InputForm;","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {thunkSearchMovies} from \"../store/movies/actions\";\nimport InputForm from \"../components/InputForm/InputForm\";\nimport {ThunkDispatch} from \"redux-thunk\";\n\ninterface DispatchProps{\n    onGetSearchMovies: (page: number, query: string) => void;\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<{}, {}, any>) => {\n    return {\n        onGetSearchMovies: (page: number, query: string) => dispatch(thunkSearchMovies(page, query))\n    }\n}\n\nfunction InputFormContainer(props: DispatchProps){\n    return (\n        <InputForm onGetSearchMovies={props.onGetSearchMovies} />\n    )\n}\n\nexport default connect(null, mapDispatchToProps)(InputFormContainer);","import React from 'react';\nimport {HeaderStyled, Title, Wrapper} from \"./Header.styles\";\nimport InputFormContainer from \"../../containers/InputFormContainer\";\n\nfunction Header(){\n    return (\n        <HeaderStyled>\n            <Wrapper>\n                <Title>\n                    movie searcher\n                </Title>\n                <InputFormContainer />\n            </Wrapper>\n        </HeaderStyled>\n    )\n}\n\nexport default Header;","import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n    width: 100%;\n    text-align: center;\n    display: grid;\n    grid-template-rows: 150px 500px;\n    \n    @media (max-width: 527px){\n        grid-template-rows: 66px 500px;\n    }\n`;","import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n    margin: 0 auto;\n    max-width: 816px;\n    display: flex;\n    padding: 16px;\n    align-content: flex-start;\n    flex-wrap: wrap;\n    gap: 16px;\n    \n    @media (max-width: 527px){\n        padding: 0;\n        width: 100vw;\n        justify-content: center;\n    }\n`;","import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n    width: 400px;\n    height: 600px;\n    transition: 0.5s;\n    overflow: hidden;\n    border-radius: 20px;\n    cursor: pointer;\n    box-shadow: 0 20px 30px 0 rgba(1, 1, 1, 0.3);\n    \n    &:hover{\n        transform: scale(0.95);\n        box-shadow: 0 20px 30px 0 rgba(1, 1, 1, 0.7);\n    }\n    \n    @media (max-width: 400px){\n        width: 350px;\n        height: 550px;\n    }\n`;\n\nexport const Title = styled.div`\n    font-family: 'Monda', sans-serif;\n    position: relative;\n    top: -604px;\n    z-index: 10;\n    height: 200px;\n    background: linear-gradient(rgba(74, 118, 168, 0.9), rgba(74, 118, 168, 0));\n    font-size: 25px;\n    line-height: 50px;\n    color: white;\n    \n    @media (max-width: 400px){\n        top: -554px;\n    }\n`;","export default __webpack_public_path__ + \"static/media/error-poster.3ec67d88.jpg\";","import React from \"react\";\nimport {Title, Wrapper} from \"./MovieCard.styles\";\nimport {Movie} from \"../../store/movies/types\";\nimport Img from \"react-cool-img\";\nimport loadingImage from '../../img/loader.svg';\nimport errorImage from '../../img/error-poster.jpg';\n\nconst imageBaseUrl = 'https://image.tmdb.org/t/p/original/';\n\nfunction MovieCard(props: Movie){\n    return(\n        <div className=\"MovieCard\">\n            <Wrapper>\n                <Img\n                    width={(window.innerWidth <= 400) ? '350' : '400'}\n                    height={(window.innerWidth <= 400) ? '550' : '600'}\n                    placeholder={loadingImage}\n                    src={`${imageBaseUrl}/${props.poster_path}`}\n                    error={errorImage}\n                    debounce={1000}\n                    alt=\"Movie\"\n                    lazy={true}\n                />\n                <Title>\n                    {props.title}\n                </Title>\n            </Wrapper>\n        </div>\n    )\n}\n\nexport default MovieCard;","import React from \"react\";\nimport {Wrapper} from \"./MoviesList.styles\";\nimport MovieCard from \"../MovieCard/MovieCard\";\n\ninterface Props{\n    page: null | number;\n    moviesList: Array<any>;\n}\n\nfunction MoviesList(props: Props){\n    return (\n        <div className=\"MoviesList\">\n            <Wrapper>\n                {props.moviesList.map((item, i) => <MovieCard key={i} {...item}/>)}\n            </Wrapper>\n        </div>\n    )\n}\n\nexport default MoviesList;","import {RootState} from \"../rootReducer\";\n\nexport const getQuery = (state: RootState) => state.movies.query;\n\nexport const getType = (state: RootState) => state.movies.type;\n\nexport const getPage = (state: RootState) => state.movies.page;\n\nexport const getMoviesList = (state: RootState) => state.movies.movies;","import React, {useCallback, useEffect, useRef} from \"react\";\nimport {connect} from 'react-redux';\nimport {RootState} from \"../store/rootReducer\";\nimport { ThunkDispatch } from 'redux-thunk';\nimport {thunkPopularMovies, thunkSearchMovies} from \"../store/movies/actions\";\nimport MoviesList from \"../components/MoviesList/MoviesList\";\nimport loadingImage from '../img/loader.svg';\nimport {getMoviesList, getPage, getQuery, getType} from \"../store/movies/selectors\";\n\ninterface StateProps{\n    query: null | string;\n    type: 'popular' | 'search' | null;\n    page: null | number;\n    moviesList: Array<any>;\n}\n\ninterface DispatchProps{\n    onGetPopularMovies: (page: number) => void;\n    onGetSearchMovies: (page: number, query: string) => void;\n}\n\nconst mapStateToProps = (state: RootState) => {\n    return {\n        query: getQuery(state),\n        type: getType(state),\n        page: getPage(state),\n        moviesList: getMoviesList(state)\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<{}, {}, any>) => {\n    return {\n        onGetPopularMovies: (page: number) => dispatch(thunkPopularMovies(page)),\n        onGetSearchMovies: (page: number, query: string) => dispatch(thunkSearchMovies(page, query))\n    }\n}\n\ntype Props = StateProps & DispatchProps;\n\nconst IntersectionObserverOptions = {\n    root: null,\n    rootMargin: '0px',\n    threshold: 1\n}\n\nfunction MoviesListContainer(props: Props){\n    const loader = useRef(null);\n\n    const loadMore = useCallback((entries) => {\n        const target = entries[0];\n        if (target.isIntersecting){\n            switch (props.type){\n                case \"popular\":{\n                    props.page ?\n                        props.onGetPopularMovies(props.page + 1)\n                        :\n                        props.onGetPopularMovies(1)\n                    break\n                }\n                case \"search\":{\n                    props.page ?\n                        props.onGetSearchMovies(props.page + 1, props.query ? props.query : '')\n                        :\n                        props.onGetSearchMovies(1, props.query ? props.query : '')\n                    break\n                }\n                case null:{\n                    if (!props.query){\n                        props.page ?\n                            props.onGetPopularMovies(props.page + 1)\n                            :\n                            props.onGetPopularMovies(1)\n                    }\n                    break\n                }\n            }\n        }\n    }, [props])\n\n    useEffect(() => {\n        window.scrollTo(0, 0);\n    }, [props.query])\n\n    useEffect(() => {\n        let currentLoader = loader.current;\n        const observer = new IntersectionObserver(loadMore, IntersectionObserverOptions);\n\n        if (loader && loader.current){\n            //@ts-ignore\n            observer.observe(currentLoader);\n        }\n\n        return () => {\n            //@ts-ignore\n            observer.unobserve(currentLoader);\n        }\n    }, [loader, loadMore]);\n\n    return (\n        <div>\n            <MoviesList page={props.page} moviesList={props.moviesList} />\n            <img ref={loader} className={\"Loader\"} src={loadingImage} alt=\"Loading...\" />\n        </div>\n    )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MoviesListContainer);","import React from \"react\";\nimport {Wrapper} from \"./MoviesPage.styles\";\nimport MoviesListContainer from \"../../containers/MoviesListContainer\";\n\nfunction MoviesPage(){\n    return (\n        <div className=\"MoviesPage\">\n            <Wrapper>\n                <div> </div>\n                <MoviesListContainer />\n            </Wrapper>\n        </div>\n    )\n}\n\nexport default MoviesPage;","import React from \"react\";\nimport Header from \"./components/Header/Header\";\nimport {BrowserRouter, Redirect, Route} from \"react-router-dom\";\nimport MoviesPage from \"./components/MoviesPage/MoviesPage\";\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <BrowserRouter>\n                <Header/>\n                <Route path=\"/\">\n                    <Redirect to=\"/react-movie-searcher\" />\n                </Route>\n                <Route exact path=\"/react-movie-searcher\" render={() => <MoviesPage/>}/>\n            </BrowserRouter>\n        </div>\n    )\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import {createGlobalStyle} from \"styled-components\";\n\nexport const GlobalStyle = createGlobalStyle`\n    body{\n        margin: 0;\n        background: #dfe6ed;\n        font-family: 'Roboto', sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n`;","import {CLEAR, GET_POPULAR, MoviesActionTypes, MoviesState, QUERY, SEARCH} from \"./types\";\n\nlet initialState: MoviesState = {\n    query: null,\n    type: null,\n    page: null,\n    movies: []\n}\n\nexport const moviesReducer = (\n    state = initialState,\n    action: MoviesActionTypes\n): MoviesState => {\n    switch (action.type){\n        case GET_POPULAR:{\n            return {\n                ...state,\n                type: 'popular',\n                page: action.payload.page,\n                movies: state.movies.concat(action.payload.results)\n            }\n        }\n        case SEARCH:{\n            return {\n                ...state,\n                type: 'search',\n                page: action.payload.page,\n                movies: state.movies.concat(action.payload.results)\n            }\n        }\n        case CLEAR: {\n            return {...state, page: null, type: null, movies: [], query: null}\n        }\n        case QUERY: {\n            return {...state, query: action.payload}\n        }\n        default:\n            return state;\n    }\n}","import {combineReducers} from \"redux\";\nimport {moviesReducer} from \"./movies/reducer\";\n\nexport const rootReducer = combineReducers({\n    movies: moviesReducer\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;","import {createStore, applyMiddleware} from \"redux\";\nimport thunk from 'redux-thunk';\nimport {rootReducer} from \"./rootReducer\";\n\nlet store = createStore(rootReducer, applyMiddleware(thunk));\n\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {GlobalStyle} from \"./index.styles\";\nimport {Provider} from \"react-redux\";\nimport store from \"./store/store\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <GlobalStyle/>\n            <App/>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}